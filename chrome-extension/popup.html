<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>时差计算器</title>
    <style>
        body {
            font-family: "Microsoft YaHei", sans-serif;
            background: #0f0f1a;
            min-width: 380px;
            padding: 12px;
        }
        .container { width: 100%; }
        .title { font-size: 18px; font-weight: bold; text-align: center; color: #00d4ff; margin-bottom: 4px; }
        .subtitle { text-align: center; color: #888; font-size: 11px; margin-bottom: 16px; }
        .card { background: #1a1a2e; border-radius: 10px; padding: 16px; }
        .section { margin-bottom: 16px; }
        .section-label { font-size: 13px; font-weight: 500; color: #00d4ff; margin-bottom: 8px; }
        .input-group { margin-bottom: 8px; }
        .input-group label { display: block; font-size: 11px; color: #888; margin-bottom: 4px; }
        .row { display: flex; gap: 8px; }
        .row .input-group { flex: 1; }
        
        select, input[type="date"], input[type="time"] {
            width: 100%;
            padding: 8px;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 4px;
            color: #333;
            font-size: 13px;
            font-family: inherit;
        }
        
        .result-section { margin-top: 16px; padding-top: 16px; border-top: 1px solid rgba(255,255,255,0.1); }
        .result-display { background: rgba(0,212,255,0.1); border-radius: 8px; padding: 12px; text-align: center; border: 1px solid rgba(0,212,255,0.3); }
        .result-label { font-size: 11px; color: #888; margin-bottom: 4px; }
        .result-time { font-size: 16px; font-weight: bold; color: #00d4ff; margin-bottom: 2px; }
        .result-date { font-size: 11px; color: #e0e0e0; margin-bottom: 4px; }
        .result-diff { font-size: 10px; color: #888; }
        
        .btn-row { margin-top: 12px; }
        .btn { width: 100%; padding: 10px; border: none; border-radius: 4px; font-size: 12px; cursor: pointer; background: rgba(255,255,255,0.1); color: #e0e0e0; border: 1px solid rgba(255,255,255,0.2); }
        .btn:hover { background: rgba(255,255,255,0.15); }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">时差计算器</h1>
        <p class="subtitle">Time Difference Calculator</p>
        
        <div class="card">
            <div class="section">
                <div class="section-label">时区 A（源时区）</div>
                <div class="input-group">
                    <label>选择时区</label>
                    <select id="timezoneA">
                        <option value="Asia/Shanghai" selected>中国北京时间 (CST)</option>
                        <option value="Asia/Tokyo">日本东京时间 (JST)</option>
                        <option value="Asia/Seoul">韩国首尔时间 (KST)</option>
                        <option value="Asia/Singapore">新加坡时间 (SGT)</option>
                        <option value="Asia/Hong_Kong">香港时间 (HKT)</option>
                        <option value="Asia/Dubai">阿联酋迪拜时间 (GST)</option>
                        <option value="Asia/Kolkata">印度时间 (IST)</option>
                        <option value="Europe/London">英国伦敦时间 (GMT/BST)</option>
                        <option value="Europe/Paris">法国巴黎时间 (CET)</option>
                        <option value="Europe/Berlin">德国柏林时间 (CET)</option>
                        <option value="Europe/Moscow">俄罗斯莫斯科时间 (MSK)</option>
                        <option value="Africa/Cairo">埃及开罗时间 (EET)</option>
                        <option value="Africa/Johannesburg">南非约翰内斯堡时间 (SAST)</option>
                        <option value="America/New_York">美国纽约时间 (EST/EDT)</option>
                        <option value="America/Chicago">美国芝加哥时间 (CST/CDT)</option>
                        <option value="America/Denver">美国丹佛时间 (MST/MDT)</option>
                        <option value="America/Los_Angeles">美国洛杉矶时间 (PST/PDT)</option>
                        <option value="America/Toronto">加拿大多伦多时间 (EST/EDT)</option>
                        <option value="America/Vancouver">加拿大温哥华时间 (PST/PDT)</option>
                        <option value="America/Mexico_City">墨西哥城时间 (CST)</option>
                        <option value="America/Sao_Paulo">巴西圣保罗时间 (BRT)</option>
                        <option value="Australia/Sydney">澳大利亚悉尼时间 (AEST/AEDT)</option>
                        <option value="Australia/Melbourne">澳大利亚墨尔本时间 (AEST/AEDT)</option>
                        <option value="Pacific/Auckland">新西兰奥克兰时间 (NZST/NZDT)</option>
                        <option value="UTC">世界协调时间 (UTC)</option>
                    </select>
                </div>
                <div class="row">
                    <div class="input-group">
                        <label>日期</label>
                        <input type="date" id="dateA">
                    </div>
                    <div class="input-group">
                        <label>时间</label>
                        <input type="time" id="timeA">
                    </div>
                </div>
            </div>

            <div class="section">
                <div class="section-label">时区 B（目标时区）</div>
                <div class="input-group">
                    <label>选择时区</label>
                    <select id="timezoneB">
                        <option value="Asia/Shanghai">中国北京时间 (CST)</option>
                        <option value="Asia/Tokyo">日本东京时间 (JST)</option>
                        <option value="Asia/Seoul">韩国首尔时间 (KST)</option>
                        <option value="Asia/Singapore">新加坡时间 (SGT)</option>
                        <option value="Asia/Hong_Kong">香港时间 (HKT)</option>
                        <option value="Asia/Dubai">阿联酋迪拜时间 (GST)</option>
                        <option value="Asia/Kolkata">印度时间 (IST)</option>
                        <option value="Europe/London">英国伦敦时间 (GMT/BST)</option>
                        <option value="Europe/Paris">法国巴黎时间 (CET)</option>
                        <option value="Europe/Berlin">德国柏林时间 (CET)</option>
                        <option value="Europe/Moscow">俄罗斯莫斯科时间 (MSK)</option>
                        <option value="Africa/Cairo">埃及开罗时间 (EET)</option>
                        <option value="Africa/Johannesburg">南非约翰内斯堡时间 (SAST)</option>
                        <option value="America/New_York" selected>美国纽约时间 (EST/EDT)</option>
                        <option value="America/Chicago">美国芝加哥时间 (CST/CDT)</option>
                        <option value="America/Denver">美国丹佛时间 (MST/MDT)</option>
                        <option value="America/Los_Angeles">美国洛杉矶时间 (PST/PDT)</option>
                        <option value="America/Toronto">加拿大多伦多时间 (EST/EDT)</option>
                        <option value="America/Vancouver">加拿大温哥华时间 (PST/PDT)</option>
                        <option value="America/Mexico_City">墨西哥城时间 (CST)</option>
                        <option value="America/Sao_Paulo">巴西圣保罗时间 (BRT)</option>
                        <option value="Australia/Sydney">澳大利亚悉尼时间 (AEST/AEDT)</option>
                        <option value="Australia/Melbourne">澳大利亚墨尔本时间 (AEST/AEDT)</option>
                        <option value="Pacific/Auckland">新西兰奥克兰时间 (NZST/NZDT)</option>
                        <option value="UTC">世界协调时间 (UTC)</option>
                    </select>
                </div>
            </div>

            <div class="result-section">
                <div class="result-display">
                    <div class="result-label">时区 B 对应时间</div>
                    <div class="result-time" id="resultTime">--:--</div>
                    <div class="result-date" id="resultDate">请选择时区B</div>
                    <div class="result-diff" id="resultDiff"></div>
                </div>
            </div>

            <div class="btn-row">
                <button class="btn" id="swapBtn">⇄ 交换时区</button>
            </div>
        </div>
    </div>

    <script>
        // 获取DOM元素
        const timezoneA = document.getElementById('timezoneA');
        const timezoneB = document.getElementById('timezoneB');
        const dateA = document.getElementById('dateA');
        const timeA = document.getElementById('timeA');
        const resultTime = document.getElementById('resultTime');
        const resultDate = document.getElementById('resultDate');
        const resultDiff = document.getElementById('resultDiff');
        const swapBtn = document.getElementById('swapBtn');

        // 手动定义时区偏移量（小时）
        const timezoneOffsets = {
            'Asia/Shanghai': 8,
            'Asia/Tokyo': 9,
            'Asia/Seoul': 9,
            'Asia/Singapore': 8,
            'Asia/Hong_Kong': 8,
            'Asia/Dubai': 4,
            'Asia/Kolkata': 5.5,
            'Europe/London': 0,
            'Europe/Paris': 1,
            'Europe/Berlin': 1,
            'Europe/Moscow': 3,
            'Africa/Cairo': 2,
            'Africa/Johannesburg': 2,
            'America/New_York': -5,
            'America/Chicago': -6,
            'America/Denver': -7,
            'America/Los_Angeles': -8,
            'America/Toronto': -5,
            'America/Vancouver': -8,
            'America/Mexico_City': -6,
            'America/Sao_Paulo': -3,
            'Australia/Sydney': 10,
            'Australia/Melbourne': 10,
            'Pacific/Auckland': 12,
            'UTC': 0
        };

        function formatTime(date) {
            const hours = date.getHours();
            const minutes = date.getMinutes();
            return (hours < 10 ? '0' + hours : hours) + ':' + (minutes < 10 ? '0' + minutes : minutes);
        }

        function formatDate(date) {
            const year = date.getFullYear();
            const month = date.getMonth() + 1;
            const day = date.getDate();
            const weekdays = ['周日', '周一', '周二', '周三', '周四', '周五', '周六'];
            const weekday = weekdays[date.getDay()];
            return year + '年' + month + '月' + day + '日 ' + weekday;
        }

        function formatDiff(diffHours) {
            if (diffHours > 0) return '时区B比时区A快 ' + diffHours + ' 小时';
            if (diffHours < 0) return '时区B比时区A慢 ' + Math.abs(diffHours) + ' 小时';
            return '两个时区时间相同';
        }

        function calculate() {
            try {
                const tzA = timezoneA.value;
                const tzB = timezoneB.value;
                const dateValue = dateA.value;
                const timeValue = timeA.value;

                if (!dateValue || !timeValue) {
                    resultTime.textContent = '--:--';
                    resultDate.textContent = '请选择日期和时间';
                    resultDiff.textContent = '';
                    return;
                }

                const dateTimeStr = dateValue + 'T' + timeValue + ':00';
                const dateTimeA = new Date(dateTimeStr);

                const offsetA = timezoneOffsets[tzA] || 0;
                const offsetB = timezoneOffsets[tzB] || 0;
                const diffHours = offsetB - offsetA;

                const dateTimeB = new Date(dateTimeA.getTime() + diffHours * 60 * 60 * 1000);

                const timeStr = formatTime(dateTimeB);
                const dateStr = formatDate(dateTimeB);
                const diffText = formatDiff(diffHours);

                resultTime.textContent = timeStr;
                resultDate.textContent = dateStr;
                resultDiff.textContent = diffText;
            } catch (error) {
                resultTime.textContent = '--:--';
                resultDate.textContent = '计算错误';
                resultDiff.textContent = error.message;
            }
        }

        function swapTimezones() {
            const temp = timezoneA.value;
            timezoneA.value = timezoneB.value;
            timezoneB.value = temp;
            calculate();
        }

        function init() {
            const now = new Date();
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const day = String(now.getDate()).padStart(2, '0');
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            dateA.value = year + '-' + month + '-' + day;
            timeA.value = hours + ':' + minutes;
            calculate();
        }

        // 绑定事件监听器
        timezoneA.addEventListener('change', calculate);
        timezoneB.addEventListener('change', calculate);
        dateA.addEventListener('change', calculate);
        timeA.addEventListener('change', calculate);
        swapBtn.addEventListener('click', swapTimezones);

        // 初始化
        init();
    </script>
</body>
</html>